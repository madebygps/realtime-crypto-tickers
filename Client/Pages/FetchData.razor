@page "/fetchdata"
@inject HttpClient Http
@using Microsoft.AspNetCore.SignalR.Client;
@inject NavigationManager NavigationManager
@inherits FetechDataBase


@if (prices == null)
{
        
    <MudProgressLinear Color="MudBlazor.Color.Primary" Indeterminate="true" Class="my-7" />
}
else
{
    <MudContainer Class="mt-16">
        <MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">$PRICES</MudText>
        <MudText Align="Align.Center">SignalR status: <MudText Align="Align.Center" Color="@(hubConnection?.State.ToString() is "Connected" ? MudBlazor.Color.Success : MudBlazor.Color.Error)">@hubConnection.State</MudText></MudText> 
        <MudGrid Class="mt-8">
            @foreach(var coin in prices)
            {
                <Ticker Coin="@coin"></Ticker>
            }
        </MudGrid>
    </MudContainer>
         
}

@code {

    
    

}
